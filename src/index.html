<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Castcloud</title>
	<link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
	<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" href="{{root}}style.css">
</head>
<body>
	<textarea id="clip"></textarea>
	<div id="context-menu"></div>
	<div id="topbar">
		<h1>Castcloud</h1>
		<div id="menu-container">
			<nav>
				<ul>
					<li>
						<a href="now-playing">Now playing</a>
					</li><li>
						<a href="podcasts">Podcasts</a>
					</li><li>
						<a href="episodes">Episodes</a>
					</li><li>
						<a href="settings">Settings</a>
					</li>
				</ul>
			</nav>
			<div id="userinfo">
				<div>Logged in as <span style="color: #0099cc"></span></div><button class="button" id="button-logout">Log out</button>
			</div>
		</div>
		<i class="fa fa-bars" id="navicon"></i>
	</div>
	<div id="main-container">
		<div class="tab" id="tab-login">
			<div id="login-container">
				<div>
					<p><input type="text" id="input-username" placeholder="Username"></p>
					<p><input type="password" id="input-password" placeholder="Password"></p>
					<p><button id="button-login">Log in</button></p>
					<p id="demo">Click here for a demo</p>
				</div>
			</div>
			<div id="input-target-container">
				<label>API Target</label>
				<input type="text" id="input-target">
				<i class="fa fa-check-circle" style="color: #0099cc"></i>
			</div>
		</div>
		<div class="tab" id="tab-now-playing"></div>
		<div class="tab" id="tab-podcasts">
			<div id="podcast-vmenu">
				<div id="vmenu-add">+</div>
				<div id="vmenu-label"><i class="fa fa-tag"></i></div>
				<div id="vmenu-sync"><i class="fa fa-refresh"></i></div>
			</div>
			<div id="podcast-cols">
				<div class="col" id="foo">
					<div>
						<input class="vmenu-toggle" type="text" id="input-vmenu-add" placeholder="Feed URL / Search">
						<button class="vmenu-toggle" id="button-vmenu-add">Add</button>
						<div class="vmenu-toggle" id="vmenu-add-results"></div>
						<input class="vmenu-toggle" type="text" id="input-vmenu-label" placeholder="Label">
						<button class="vmenu-toggle" id="button-vmenu-label">Add</button>
						<div id="add-to-label"></div>
						<div id="podcasts"></div>
					</div>
				</div>
				<div class="col" id="episode-list"></div>
				<div class="col" id="episodeinfo"></div>
				<div id="events"></div>
			</div>
		</div>
		<div class="tab" id="tab-episodes"><div class="list"></div></div>
		<div class="tab" id="tab-settings"></div>
		<div id="vid-wrap">
			<div id="overlay-info"><h5></h5><h2></h2></div>
			<div id="vid-container" class="thumb minimized">
				<div id="vid-thumb-bar"><div class="drag"></div><h4><a href="now-playing">Now playing</a></h4><button class="button minimize">_</button><button class="button popout"><i class="fa fa-external-link"></i></button></div>
				<div id="cast-overlay"><h1>Playing on <span class="name">bitcast</span></h1></div>
				<video id="vid" height="100%">
	  				<source src="#" type="video/mp4">
				</video>
				<figure style="text-align:center"><img id="vid-art" style="max-height: 100%"></figure>
				<div id="overlay-loading"><i class="fa fa-spinner fa-spin fa-5x"></i><h3>Buffering...</h3></div>
			</div>
			<div id="playbar">
				<div id="playbar-controls">
					<button class="button button-skipback"><i class="fa fa-step-backward"></i></button>
					<button class="button button-play"><i class="fa fa-play"></i></button>
					<button class="button button-skipforward"><i class="fa fa-step-forward"></i></button>
					<div id="volume"><i class="fa fa-volume-up"></i><div class="bar"><div class="inner"></div></div></div>
					<div id="badeball"><div></div></div>
					<div id="seekbar"><div></div></div>
					<div id="seektime"></div>
					<div class="cc"><img src="img/cast_off.png"></div>
					<i class="fa fa-expand fa-lg" id="playbar-fullscreen"></i>
					<i class="fa fa-gear fa-lg" id="playbar-gear"></i>
					<h3 id="time">00:00/00:00</h3>
				</div>
				<div id="playbar-gear-menu">
					<p>Playback rate</p>
					<button class="button playback-rate" rate="0.5">0.5x</button>
					<button class="button playback-rate selected" rate="1.0">1.0x</button>
					<button class="button playback-rate" rate="1.5">1.5x</button>
				</div>
			</div>
		</div>
	</div>

	<script type="text/template" class="podcasts">
	<% 	labels.root.forEach(function(label) {
			if (label.type === "cast") { %>
				<div id="cast-<%= label.id %>" class="cast drag"><span class="name"><%= casts[label.id].name %></span><div class="n"></div></div>
	<% 		}
			else if (label.type === "label") { %>
				<div id="label-<%= label.id %>" class="label drag">
					<div class="name"><span><%= labels[label.id].name %></span><i class="fa fa-angle-down" style="float:right;font-size:20px"></i></div>
					<div class="content" style="display:none">
	<%					if (labels[label.id].name !== "root") {
							labels[labels[label.id].name].forEach(function(cast) {
								if (cast.type === "cast") { %>
									<div id="cast-<%= cast.id %>" class="cast drag"><span class="name"><%= casts[cast.id].name %></span><span class="n"></span></div>
	<%							}
							});
						} %>
					</div>
				</div>
	<%		}
		}); %>
	</script>

	<script type="text/template" class="labels">
	<h2>Labels</h2>
	<% 	labels.root.forEach(function(label) {
			if (label.type === "label") { %>
				<p id="addtolabel-<%= label.id %>"><%= labels[label.id].name %></p>
	<%		}
		}); %>
	</script>

	<script type="text/template" class="events">
	<h1>Events</h1>
	<button id="events-close" class="button">Close</button>
	<% events.forEach(function(event) { %>
		<div event-type="<%= event.type %>" event-position="<%= event.positionts %>">
			<p><span class="what"><%= event.name %></span><span class="when"><%= event.position %></span></p>
			<p class="secondline"><span class="who"><%= event.clientname + " (" + event.clientdescription + ")" %></span><span class="when"><%= event.date %></span></p>
		</div>
	<% }); %>
	</script>

	<script src="//cdnjs.cloudflare.com/ajax/libs/react/0.12.0/react.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/localforage/1.1.1/localforage.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/UAParser.js/0.6.2/ua-parser.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/iScroll/5.1.1/iscroll-min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/velocity/1.1.0/velocity.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/md5.js"></script>
	<script src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
	<script>window.CLIENT_ROOT="{{root}}";</script>
	<script src="{{root}}script.js"></script>
</body>
</html>